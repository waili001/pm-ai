# Role-Based Access Control (RBAC) System

該文件描述了系統中的角色與權限管理機制以及使用者管理功能。

## 1. 角色 (Roles)

系統支援多角色機制，但一位使用者僅能被分配一個角色。

### 1.1 預設角色
- **SUPER_ADMIN**: 
    - 擁有系統中所有的頁面與 API 權限。
    - 不可被刪除或修改權限。
    - **自動指派**: 若登入者的 Username 為 `Waili` (忽略大小寫)，系統將自動賦予該使用者 `SUPER_ADMIN` 角色。
- **USER**:
    - 一般使用者的預設角色。
    - **自動指派**: 若使用者登入時未被分配任何角色，系統將自動賦予該使用者 `USER` 角色。

### 1.2 自定義角色
- 管理員可以新增、編輯、刪除自定義角色。
- 每個角色可以被分配多個「頁面權限」。

## 2. 權限 (Permissions)

權限分為「頁面權限 (Page Permission)」與「API 權限 (API Permission)」。

- **頁面權限**: 控制前端選單 (Menu) 與路由 (Route) 的存取。
- **API 權限**: 控制後端 API 的執行權限。
- **關聯性**: 
    - 一個「頁面權限」對應多個「API 權限」。
    - 使用者一旦擁有某個「頁面權限」，即自動擁有該頁面下所有的「API 權限」。
- **維護方式**: 
    - 權限列表與對應關係透過後端腳本/程式碼維護，不提供前端設定介面。

## 3. 使用者管理 (User Management)

- 提供使用者列表介面。
- 管理員可於該介面設定使用者的角色 (Role)。

## 4. 運作流程

1. **登入驗證**: 使用者登入後，系統取得其 Role。
2. **權限載入**: 載入該 Role 對應的所有 Page Permissions 與 API Permissions。
3. **前端控制**: 根據 Page Permissions 顯示或隱藏側邊選單。
4. **後端控制**: 所有的受保護 API 請求，Middleware/Dependency 將驗證使用者是否擁有執行該 API 的權限 (Method + Path)。
